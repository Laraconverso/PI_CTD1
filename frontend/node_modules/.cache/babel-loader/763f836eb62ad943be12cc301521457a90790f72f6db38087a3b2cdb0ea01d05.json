{"ast":null,"code":"var _jsxFileName = \"/Users/Lara/Desktop/programing/CTD/ProyectoIntegrador/grupo-08/frontend/src/Components/EnterAccount.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport UserContext from \"../context/UserContext.js\";\nimport { login } from \"../services/userService\";\nimport \"../Styles/Account.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EnterAccount() {\n  _s();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const {\n    user,\n    loginLogoutEvent\n  } = useContext(UserContext);\n  const navigate = useNavigate();\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const handleSubmit = async event => {\n    console.log(\"ENTREEE LOGIN\", user);\n    event.preventDefault();\n    if (formData.password && formData.email) {\n      try {\n        const response = await login({\n          username: formData.email,\n          password: formData.password\n        });\n        const userFromApi = {\n          nombre: response.data.nombre,\n          apellido: response.data.apellido,\n          mail: response.data.email,\n          password: \"\",\n          auth: true\n        };\n        loginLogoutEvent({\n          ...userFromApi,\n          log: true\n        }, response.data.jwt);\n        navigate(\"/\");\n      } catch (e) {\n        setErrorMessage(e.message);\n        setFormData({\n          email: \"\",\n          password: \"\"\n        });\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"account-container\",\n    children: [errorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-login\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: require(`../Images/Caracter-icons/wifi.png`),\n        alt: \"error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-login-message\",\n        children: [errorMessage, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Iniciar sesi\\xF3n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-mail\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Correo Electronico\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          // type=\"email\"\n          id: \"email\",\n          name: \"email\",\n          value: formData.email,\n          onChange: e => setFormData({\n            ...formData,\n            email: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-password\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Contrase\\xF1a\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password\",\n          name: \"password\",\n          value: formData.password,\n          onChange: e => setFormData({\n            ...formData,\n            password: e.target.value\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Ingresar\",\n        className: \"button3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"\\xBFA\\xFAn no tienes una cuenta? \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/signup\",\n        children: \"Registrarse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 36\n      }, this), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(EnterAccount, \"JuXtkaArLiRaV/CYdC429jKTHXY=\", false, function () {\n  return [useNavigate];\n});\n_c = EnterAccount;\nvar _c;\n$RefreshReg$(_c, \"EnterAccount\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","UserContext","login","EnterAccount","formData","setFormData","email","password","user","loginLogoutEvent","navigate","errorMessage","setErrorMessage","handleSubmit","event","console","log","preventDefault","response","username","userFromApi","nombre","data","apellido","mail","auth","jwt","e","message","require","target","value"],"sources":["/Users/Lara/Desktop/programing/CTD/ProyectoIntegrador/grupo-08/frontend/src/Components/EnterAccount.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport UserContext from \"../context/UserContext.js\";\nimport { login } from \"../services/userService\";\nimport \"../Styles/Account.css\";\n\nexport default function EnterAccount() {\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n  const { user, loginLogoutEvent } = useContext(UserContext);\n  const navigate = useNavigate();\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const handleSubmit = async (event) => {\n    console.log(\"ENTREEE LOGIN\", user);\n    event.preventDefault();\n\n    if (formData.password && formData.email) {\n      try {\n        const response = await login({\n          username: formData.email,\n          password: formData.password,\n        });\n        const userFromApi = {\n          nombre: response.data.nombre,\n          apellido: response.data.apellido,\n          mail: response.data.email,\n          password: \"\",\n          auth: true,\n        };\n        loginLogoutEvent({ ...userFromApi, log: true }, response.data.jwt);\n        navigate(\"/\");\n      } catch (e) {\n        setErrorMessage(e.message);\n        setFormData({\n          email: \"\",\n          password: \"\",\n        });\n      }\n    }\n  };\n\n  return (\n    <div className=\"account-container\">\n      {errorMessage && (\n        <div className=\"error-login\">\n          <img src={require(`../Images/Caracter-icons/wifi.png`)} alt=\"error\" />{\" \"}\n          <p className=\"error-login-message\">{errorMessage} </p>\n        </div>\n      )}\n\n      <h2>Iniciar sesión</h2>\n      <form onSubmit={handleSubmit}>\n        <div className=\"form-mail\">\n          <label>Correo Electronico</label>\n          <input\n            // type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            value={formData.email}\n            onChange={(e) =>\n              setFormData({ ...formData, email: e.target.value })\n            }\n          />\n        </div>\n\n        <div className=\"form-password\">\n          <label>Contraseña</label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            value={formData.password}\n            onChange={(e) =>\n              setFormData({ ...formData, password: e.target.value })\n            }\n          />\n        </div>\n\n        <input type=\"submit\" value=\"Ingresar\" className=\"button3\" />\n      </form>\n\n      <p>\n        ¿Aún no tienes una cuenta? <a href=\"/signup\">Registrarse</a>{\" \"}\n      </p>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}